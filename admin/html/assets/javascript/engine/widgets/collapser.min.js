"use strict";gx.widgets.module("collapser",["user_configuration_service"],function(e){var s=$(this),a=jse.libs.user_configuration_service,l={collapsed:!1,collapsed_icon_class:"fa-plus-square-o",expanded_icon_class:"fa-minus-square-o",additional_classes:"pull-right",parent_selector:""},n=$.extend(!0,{},l,e),o={},c=function(){s.addClass("cursor-pointer").children().addClass("cursor-pointer")},t=function(){n.collapsed&&(n.parent_selector?s.parents(n.parent_selector).next(n.target_selector).hide():s.next(n.target_selector).hide())},i=function(){s.append($("<span></span>").addClass("collapser").addClass(n.additional_classes).append($("<i></i>").addClass("fa").addClass(n.collapsed?n.collapsed_icon_class:n.expanded_icon_class))).on("click",d)},r=function(){var e=s.find(".collapser > i.fa").hasClass(n.collapsed_icon_class);a.set({data:{userId:n.user_id,configurationKey:n.section+"_collapse",configurationValue:e}})},d=function(){n.parent_selector?s.parents(n.parent_selector).next(n.target_selector).toggle():s.next(n.target_selector).toggle(),s.find(".collapser > i.fa").toggleClass(n.collapsed_icon_class),s.find(".collapser > i.fa").toggleClass(n.expanded_icon_class),r()};return o.init=function(e){c(),t(),i(),e()},o});