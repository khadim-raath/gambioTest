"use strict";gx.controllers.module("package_template_controller",["loading_spinner"],function(a){var t=($(this),{}),o=($.extend(!0,{},t,a),{}),e=function(a){var t=window.location.hash.substring(1),o=void 0!==a;$(".box-content").hide(),$(".button-set").hide(),$(".package-details").show(),$(".detail-buttons").show(),a=a||$(".sc_package_template_"+t),t&&(a.addClass("active"),n(t,o),$(".gx-configuration-box").css("visibility","visible"))},n=function(a,t){var o=$(".gx-configuration-box");if(t)var e=jse.libs.loading_spinner.show(o);$.ajax({url:"admin.php?do=ShipcloudModuleCenterModule/GetPackageTemplate&templateId="+a,type:"GET",dataType:"json"}).success(function(o){$(".configuration-box-header h2").html(o["packages/"+a+"/name"]),$(".configuration-box-form-content .package-details .package-weight").html(o["packages/"+a+"/weight"]),$(".configuration-box-form-content .package-details .package-length").html(o["packages/"+a+"/length"]),$(".configuration-box-form-content .package-details .package-width").html(o["packages/"+a+"/width"]),$(".configuration-box-form-content .package-details .package-height").html(o["packages/"+a+"/height"]),$(".configuration-box-form-content .package-form-data .package_id_input").val(a),$(".configuration-box-form-content .package-form-data .package_name_input").val(o["packages/"+a+"/name"]),$(".configuration-box-form-content .package-form-data .package_weight_input").val(o["packages/"+a+"/weight"]),$(".configuration-box-form-content .package-form-data .package_length_input").val(o["packages/"+a+"/length"]),$(".configuration-box-form-content .package-form-data .package_width_input").val(o["packages/"+a+"/width"]),$(".configuration-box-form-content .package-form-data .package_height_input").val(o["packages/"+a+"/height"]),$(".configuration-box-form-content .package-form-data .is_default_input_row").toggle(o.is_default===!1),$(".configuration-box-form-content .package-form-data .is_default_input").val(a),e&&t&&jse.libs.loading_spinner.hide(e)})},i=function(){$(".gx-modules-table .dataTableRow.active").removeClass("active"),e($(this)),$("html, body").animate({scrollTop:0})},c=function(){$(".gx-modules-table .dataTableRow.active").removeClass("active"),$(".configuration-box-header h2").html("&nbsp;"),$(".box-content").hide(),$(".button-set").hide(),$(".package-form-data").show(),$(".create-form-data-buttons").show(),$(".configuration-box-form-content .package-form-data .package_id_input").val(""),$(".configuration-box-form-content .package-form-data .package_name_input").val(""),$(".configuration-box-form-content .package-form-data .package_weight_input").val(""),$(".configuration-box-form-content .package-form-data .package_length_input").val(""),$(".configuration-box-form-content .package-form-data .package_width_input").val(""),$(".configuration-box-form-content .package-form-data .package_height_input").val(""),$(".gx-configuration-box").css("visibility","visible")},g=function(){$(".box-content").hide(),$(".button-set").hide(),$(".package-details").show(),$(".detail-buttons").show(),$(".gx-configuration-box").css("visibility","visible")},r=function(){$(".box-content").hide(),$(".button-set").hide(),$(".package-form-data").show(),$(".form-data-buttons").show(),$(".gx-configuration-box").css("visibility","visible")},p=function(){$(".box-content").hide(),$(".button-set").hide(),$(".delete-confirmation").show(),$(".confirm-delete-buttons").show(),$(".gx-configuration-box").css("visibility","visible")},l=function(){$(".package-form-data .package_name_input").val()?$(".configuration-box-header h2").text($(".package-form-data .package_name_input").val()):$(".configuration-box-header h2").html("&nbsp;")},f=function(){$("#configuration-box-form").attr("action","admin.php?do=ShipcloudModuleCenterModule/DeletePackageTemplate&templateId="+parseInt($(".configuration-box-form-content .package-form-data .package_id_input").val())),$("#configuration-box-form").submit()};return o.init=function(a){$(".gx-configuration-box").css("visibility","hidden"),e(),$(".gx-modules-table .dataTableRow").on("click",i),$(".configuration-box-footer .edit-package-template").on("click",r),$(".configuration-box-footer .cancel-package-template").on("click",g),$(".create-new-wrapper .add-package-template").on("click",c),$(".configuration-box-footer .delete-package-template").on("click",p),$(".configuration-box-footer .confirm-delete-package-template").on("click",f),$(".package-form-data .package_name_input").on("keyup",l),a()},o});