"use strict";gx.controllers.module("state",[],function(a){function t(){return $.deparam(window.location.search.slice(1))}function e(a){var t=window.location.origin+window.location.pathname+"?"+$.param(a);window.history.pushState(a,"",t)}function n(a,n){var r=t();r.page=n.page+1,e(r)}function r(a,n){var r=t();r.page=1,r.length=n,e(r)}function o(a,n){var r=t();r.page=1,r.filter=n,e(r)}function i(a,n){var r=t();r.sort=("desc"===n.direction?"-":"+")+n.name,e(r)}function l(a){var t=a.originalEvent.state||{};if(t.page&&(c.find(".page-navigation select").val(t.page),c.DataTable().page(parseInt(t.page)-1)),t.length&&(c.find(".page-length select").val(t.length),c.DataTable().page.len(parseInt(t.length))),t.sort){var e=c.DataTable().init(),n=e.columns,r="-"===t.sort.charAt(0)?"desc":"asc",o=t.sort.slice(1),i=1,l=!0,s=!1,g=void 0;try{for(var f,u=n[Symbol.iterator]();!(l=(f=u.next()).done);l=!0){var p=f.value;if(p.name===o){i=n.indexOf(p);break}}}catch(d){s=!0,g=d}finally{try{!l&&u["return"]&&u["return"]()}finally{if(s)throw g}}c.DataTable().order([i,r])}if(t.filter)for(var h in t.filter){var v=t.filter[h];v.constructor===Array&&(v=v.join("||")),c.DataTable().column(h+":name").search(v)}c.DataTable().draw(!1)}var c=$(this),s={},g=jse.core.config.get("history");return s.init=function(a){g&&(c.on("datatable_custom_pagination:page_change",n).on("datatable_custom_pagination:length_change",r).on("datatable_custom_sorting:change",i).on("orders_overview_filter:change",o),$(window).on("popstate",l)),a()},s});