"use strict";gx.controllers.module("filter",[],function(e){function r(e){e=e||jse.core.config.get("appUrl")+"/admin/admin.php?do=OrdersOverviewAjax/FilterOptions";var r={pageToken:jse.core.config.get("pageToken")};$.getJSON(e,r).done(function(e){for(var r in e){var n=s.find(".SumoSelect > select."+r),t=n.val();if(!n.length)return;n.empty();var i=!0,a=!1,o=void 0;try{for(var c,l=e[r][Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var f=c.value;n.append(new Option(f.text,f.value))}}catch(u){a=!0,o=u}finally{try{!i&&l["return"]&&l["return"]()}finally{if(a)throw o}}null!==t&&n.val(t),n.multi_select("refresh")}})}function n(){$.fn.orders_overview_filter||$.fn.extend({orders_overview_filter:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];$.each(this,function(){switch(e){case"reload":r.apply(this,t)}})}})}function t(){var e={};s.find("th").each(function(){var r=$(this).data("columnName");if("checkbox"===r||"actions"===r)return!0;var n=u.bindings[r].get();n?(e[r]=n,f.DataTable().column(r+":name").search(n)):f.DataTable().column(r+":name").search("")}),f.trigger("orders_overview_filter:change",[e]),f.DataTable().draw()}function i(){s.find("input, select").not(".length").val(""),s.find("select").not(".length").multi_select("refresh"),f.DataTable().columns().search("").draw(),f.trigger("orders_overview_filter:change",[{}])}function a(e){e.which===l&&s.find(".apply-filters").trigger("click")}function o(){var e=$.deparam(window.location.search.slice(1)),r=e.filter;for(var n in r){var t=r[n];u.bindings[n]&&u.bindings[n].set(t)}}function c(e,r,n){var t={};for(var i in u.bindings){var a=u.bindings[i].get();a&&a.constructor===Array&&(t[i]=a)}for(var o in t){var c=!0,l=!1,f=void 0;try{for(var s,v=n.columns[Symbol.iterator]();!(c=(s=v.next()).done);c=!0){var d=s.value;if(o===d.name&&t[o].constructor===Array){d.search.value=t[o];break}}}catch(h){l=!0,f=h}finally{try{!c&&v["return"]&&v["return"]()}finally{if(l)throw f}}}}var l=13,f=$(this),s=f.find("tr.filter"),u={bindings:{}};return s.find("th").each(function(){var e=$(this).data("columnName");return"checkbox"===e||"actions"===e||void(u.bindings[e]=$(this).find("input, select").first())}),u.init=function(e){n(),o(),s.on("keyup","input:text",a).on("click",".apply-filters",t).on("click",".reset-filters",i),f.on("preXhr.dt",c),e()},u});