"use strict";gx.controllers.module("actions",["user_configuration_service",gx.source+"/libs/button_dropdown"],function(){function e(){var e=$(".bulk-action"),t=a.data("defaultBulkAction")||"change-status";jse.libs.button_dropdown.bindDefaultAction(e,jse.core.registry.get("userId"),"ordersOverviewBulkAction",jse.libs.user_configuration_service),jse.libs.button_dropdown.addAction(e,{text:jse.core.lang.translate("BUTTON_MULTI_CHANGE_ORDER_STATUS","orders"),"class":"change-status",data:{configurationValue:"change-status"},isDefault:"change-status"===t,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction(e,{text:jse.core.lang.translate("BUTTON_MULTI_DELETE","orders"),"class":"delete",data:{configurationValue:"delete"},isDefault:"delete"===t,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction(e,{text:jse.core.lang.translate("BUTTON_MULTI_CANCEL","orders"),"class":"cancel",data:{configurationValue:"cancel"},isDefault:"cancel"===t,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction(e,{text:jse.core.lang.translate("BUTTON_MULTI_SEND_ORDER","orders"),"class":"bulk-email-order",data:{configurationValue:"bulk-email-order"},isDefault:"bulk-email-order"===t,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction(e,{text:jse.core.lang.translate("BUTTON_MULTI_SEND_INVOICE","orders"),"class":"bulk-email-invoice",data:{configurationValue:"bulk-email-invoice"},isDefault:"bulk-email-invoice"===t,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction(e,{text:jse.core.lang.translate("TITLE_INVOICE","orders"),"class":"bulk-download-invoice",data:{configurationValue:"bulk-download-invoice"},isDefault:"bulk-download-invoice"===t,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction(e,{text:jse.core.lang.translate("TITLE_PACKINGSLIP","orders"),"class":"bulk-download-packing-slip",data:{configurationValue:"bulk-download-packing-slip"},isDefault:"bulk-download-packing-slip"===t,callback:function(e){return e.preventDefault()}}),a.datatable_default_actions("ensure","bulk")}function t(){var e=a.data("defaultRowAction")||"edit";jse.libs.button_dropdown.bindDefaultAction(a.find(".btn-group.dropdown"),jse.core.registry.get("userId"),"ordersOverviewRowAction",jse.libs.user_configuration_service),a.find(".btn-group.dropdown").each(function(){var t=$(this).parents("tr").data("id");jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("TEXT_SHOW","orders"),href:"orders.php?oID="+t+"&action=edit","class":"edit",data:{configurationValue:"edit"},isDefault:"edit"===e,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("TEXT_GM_STATUS","orders"),"class":"change-status",data:{configurationValue:"change-status"},isDefault:"change-status"===e,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("BUTTON_MULTI_DELETE","orders"),"class":"delete",data:{configurationValue:"delete"},isDefault:"delete"===e,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("BUTTON_GM_CANCEL","orders"),"class":"cancel",data:{configurationValue:"cancel"},isDefault:"cancel"===e,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("TITLE_INVOICE","orders"),href:"gm_pdf_order.php?oID="+t+"&type=invoice",target:"_blank","class":"invoice",data:{configurationValue:"invoice"},isDefault:"invoice"===e,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("TITLE_INVOICE_MAIL","orders"),"class":"email-invoice",data:{configurationValue:"email-invoice"},isDefault:"email-invoice"===e,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("TITLE_PACKINGSLIP","orders"),href:"gm_pdf_order.php?oID="+t+"&type=packingslip",target:"_blank","class":"packing-slip",data:{configurationValue:"packing-slip"},isDefault:"packing-slip"===e}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("TITLE_ORDER","orders"),href:"gm_send_order.php?oID="+t+"&type=order",target:"_blank","class":"show-acceptance",data:{configurationValue:"show-acceptance"},isDefault:"show-acceptance"===e}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("TITLE_RECREATE_ORDER","orders"),href:"gm_send_order.php?oID="+t+"&type=recreate_order",target:"_blank","class":"recreate-order-acceptance",data:{configurationValue:"recreate-order-acceptance"},isDefault:"recreate-order-acceptance"===e}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("TITLE_SEND_ORDER","orders"),"class":"email-order",data:{configurationValue:"email-order"},isDefault:"email-order"===e,callback:function(e){return e.preventDefault()}}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("TEXT_CREATE_WITHDRAWAL","orders"),href:"../withdrawal.php?order_id="+t,target:"_blank","class":"create-withdrawal",data:{configurationValue:"create-withdrawal"},isDefault:"create-withdrawal"===e}),jse.libs.button_dropdown.addAction($(this),{text:jse.core.lang.translate("TXT_PARCEL_TRACKING_SENDBUTTON_TITLE","parcel_services"),"class":"add-tracking-number",data:{configurationValue:"add-tracking-number"},isDefault:"add-tracking-number"===e,callback:function(e){return e.preventDefault()}}),a.datatable_default_actions("ensure","row")})}var a=$(this),n={};return n.init=function(n){$(window).on("JSENGINE_INIT_FINISHED",function(){a.on("draw.dt",t),t(),e()}),n()},n});