"use strict";gx.controllers.module("cancel",["modal"],function(e){function n(e){var n=jse.core.config.get("appUrl")+"/admin/admin.php?do=OrdersModalsAjax/CancelOrder",i={selectedOrders:t.bindings.selectedOrders.get().split(", "),reStock:t.bindings.reStock.get(),reShip:t.bindings.reShip.get(),reActivate:t.bindings.reActivate.get(),notifyCustomer:t.bindings.notifyCustomer.get(),sendComments:t.bindings.sendComments.get(),cancellationComments:t.bindings.cancellationComments.get(),pageToken:jse.core.config.get("pageToken")},a=$(e.target);a.addClass("disabled").prop("disabled",!0),$.ajax({url:n,data:i,method:"POST",dataType:"json"}).done(function(e){jse.libs.info_box.service.addSuccessMessage(jse.core.lang.translate("CANCEL_ORDERS_SUCCESS","admin_orders")),$(".orders .table-main").DataTable().ajax.reload(),$(".orders .table-main").orders_overview_filter("reload")}).fail(function(e,n,s){jse.libs.modal.message({title:jse.core.lang.translate("error","messages"),content:jse.core.lang.translate("CANCEL_ORDERS_ERROR","admin_orders")})}).always(function(){s.modal("hide"),a.removeClass("disabled").prop("disabled",!1)})}var s=$(this),t={bindings:{selectedOrders:s.find(".selected-orders"),reStock:s.find(".re-stock"),reShip:s.find(".re-ship"),reActivate:s.find(".re-activate"),notifyCustomer:s.find(".notify-customer"),sendComments:s.find(".send-comments"),cancellationComments:s.find(".cancellation-comments")}};return t.init=function(e){s.on("click",".btn.send",n),e()},t});