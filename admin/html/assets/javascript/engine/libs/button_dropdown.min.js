"use strict";jse.libs.button_dropdown=jse.libs.button_dropdown||{},function(t){var n=function(t,n){"A"===t.prop("tagName")&&"click"===n.type?t.get(0).click():t.trigger(n.type)},a=function(t){var a=t.$dropdown,i=t.action,e=t.$target,o=t.event,c=t.callback||!1,l=t.title||(t.$target.length?t.$target.text():"<No Action Title Provided>"),r=$("<li></li>");r.html('<span data-value="'+i+'">'+l+"</span>"),a.find("ul").append(r),r.find("span").on(o,function(t){c!==!1?c.call(r.find("span"),t):n(e,t)})},i=function(n,a,i,e,o){var c=setInterval(function(){"undefined"!=typeof n.attr("data-configuration_value")&&(n.attr("data-configuration_value")===a&&t.changeDefaultAction(n,i,e,o),clearInterval(c))},300)};t.mapAction=function(n,e,o,c,l){var r=l||n,f=""!==o?jse.core.lang.translate(e,o):e;n.find("ul li").length||""!==n.find("button:first").text().trim()||t.changeDefaultAction(n,f,c,r),i(n,e,f,c,r);var d={action:e,$dropdown:n,title:f,event:"perform:action",callback:function(n){c(n),t.changeDefaultAction($(this),f,c,r)}};a(d)},t.changeDefaultAction=function(t,n,a,i){var e=i||t,o=e.data("icon");n.length&&e.find("button:first").off("perform:action").on("perform:action",a),e.find("button:first").text(n),e.find("button:first").prop("title",n.trim()),"undefined"!=typeof o&&e.find("button:first").prepend($('<i class="fa fa-'+o+' btn-icon"></i>'))},t.addAction=function(n,a){var i=$("<li/>"),e=$("<a />");e.text(a.text||"{Undefined}").attr("href",a.href||"#").attr("target",a.target||"").addClass(a["class"]||"").data(a.data).appendTo(i),a.isDefault&&t.setDefaultAction(n,e),a.callback&&e.on("click",a.callback),i.appendTo(n.find("ul"))},t.addSeparator=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n?"<li><hr></li>":'<li role="separator" class="divider"></li>';t.find("ul").append(a)},t.bindDefaultAction=function(n,a,i,e){n.on("click","a",function(){var o={data:{userId:a,configurationKey:i,configurationValue:$(this).data("configurationValue")}};e.set(o),t.setDefaultAction(n,$(this))})},t.setDefaultAction=function(t,n){t.each(function(t,a){var i=$(a).children("button:first");i.text(n.text()).off("click").on("click",function(){i.hasClass("disabled")||$(a).find("li:eq("+n.parent().index()+") a")[0].click()})})}}(jse.libs.button_dropdown);