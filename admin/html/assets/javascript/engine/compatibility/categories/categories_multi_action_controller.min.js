"use strict";gx.compatibility.module("categories_multi_action_controller",[gx.source+"/libs/button_dropdown"],function(t){var e=$(this),n={},i=e.find(".js-bottom-dropdown"),a=$('tr[data-id] input[type="checkbox"]'),o=($.extend(!0,{},n,t),{}),c=function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return null==e?null:e[1]||0},r=function(t){var e;try{e=window.location.href.match(/cPath=(.*)/)[1]}catch(n){e=$("[data-cpath]:first").data().cpath}var i=$('input[name="page_token"]:first').attr("value"),a=[m(),"categories.php","?action=multi_action","&cPath="+e].join(""),o=c("search");0!==o&&null!==o&&(a+="&search="+o);var r=c("page");0!==r&&null!==r&&a.indexOf("page=")===-1&&(a+="&page="+r);var u=$('<form name="multi_action_form" method="post" action='+a+"></form>");return u.append('<input type="hidden" name="cpath" value='+e+">"),u.append('<input type="hidden" name="page_token" value='+i+">"),u.append('<input type="hidden" name='+t+' value="Action">'),u.appendTo("body"),u},u={"delete":"buttons",BUTTON_MOVE:"admin_buttons",BUTTON_COPY:"admin_buttons",BUTTON_STATUS_ON:"admin_buttons",BUTTON_STATUS_OFF:"admin_buttons"},l=function(){var t=["delete","BUTTON_MOVE","BUTTON_COPY","BUTTON_STATUS_ON","BUTTON_STATUS_OFF"];for(var e in t)d(t[e])},d=function(t){var e=u[t],n=h(t);jse.libs.button_dropdown.mapAction(i,t,e,n)},p=function(t){if(a.filter(":checked").length){var e=r("multi_delete");a.filter(":checked").appendTo(e),e.submit()}},f=function(t){if(a.filter(":checked").length){var e=r("multi_move");a.filter(":checked").appendTo(e),e.submit()}},T=function(t){if(a.filter(":checked").length){var e=r("multi_copy");a.filter(":checked").appendTo(e),e.submit()}},_=function(t){if(a.filter(":checked").length){var e=r("multi_status_on");a.filter(":checked").appendTo(e),e.submit()}},s=function(t){if(a.filter(":checked").length){var e=r("multi_status_off");a.filter(":checked").appendTo(e),e.submit()}},h=function(t){switch(t){case"delete":return p;case"BUTTON_MOVE":return f;case"BUTTON_COPY":return T;case"BUTTON_STATUS_ON":return _;case"BUTTON_STATUS_OFF":return s;default:console.alert("_getActionCallback: Action not found")}return null},m=function(){var t=window.location.origin,e=window.location.pathname,n=e.split("/");n.pop();var i=n.join("/");return t+i+"/"};return o.init=function(t){var e=setInterval(function(){$(".js-button-dropdown").length>0&&(clearInterval(e),l())},200);t()},o});