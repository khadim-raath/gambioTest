"use strict";gx.compatibility.module("content_manager_overview_controller",["datatable"],function(a){var e=$(this),n={filterColumnIndex:0,filterRegexPrefix:"^"},t=$.extend(!0,{},n,a),r={},s=function(a){var e=$('<div class="grid" />'),n=$('<div class="span4 quick-search" />');n.append('<form class="control-group remove-padding"><label for="search-keyword">'+jse.core.lang.translate("search","admin_labels")+'</label><input type="text" class="search-keyword" /></form>');var r=$('<div class="span8 filter" />'),s=[];a.DataTable().data().each(function(a){var e=$(a[t.filterColumnIndex]).text().trim().substring(0,1).toUpperCase();s.indexOf(e)===-1&&""!==e&&s.push(e)}),s.sort().forEach(function(a){r.append('<button class="btn btn-small">'+a+"</button>")}),e.append([n,r]),a.parent().prepend(e)},i=function(a){var e=$('<div class="paginator grid" />'),n=$('<div class="span8 datatable-components remove-padding" />'),t=$('<select class="page-length" />');t.append(new Option("20 "+jse.core.lang.translate("PER_PAGE","admin_general"),20,(!0),(!0))).append(new Option("30 "+jse.core.lang.translate("PER_PAGE","admin_general")),30).append(new Option("50 "+jse.core.lang.translate("PER_PAGE","admin_general")),50).append(new Option("100 "+jse.core.lang.translate("PER_PAGE","admin_general")),100).css("float","left").appendTo(n),a.siblings(".dataTables_info").appendTo(n).css("clear","none"),a.siblings(".dataTables_paginate").appendTo(n).css("clear","none"),e.append('<div class="span4">&nbsp;</div>').append(n),a.parent().append(e)},l=function(a){a.preventDefault();var e=$(this).parent().siblings("table.content_manager"),n=$(this).find(".search-keyword").val();e.DataTable().search(n,!0,!1).draw()},o=function(){var a=$(this).parents().eq(1).siblings("table.content_manager");if($(this).hasClass("btn-primary"))return $(this).removeClass("btn-primary"),void a.DataTable().column(t.filterColumnIndex).search("").draw();$(this).siblings(".btn-primary").removeClass("btn-primary"),$(this).addClass("btn-primary");var e=t.filterRegexPrefix+$(this).text()+".*$";a.DataTable().column(t.filterColumnIndex).search(e,!0,!1).draw()},c=function(){var a=$(this).parents(".paginator").siblings("table.content_manager");a.DataTable().page.len($(this).val()).draw()};return r.init=function(a){var n=e.find("table.content_manager");n.on("init.dt",function(a,e,n){var t=$(this);s(t),i(t)}),jse.libs.datatable.create(n,{autoWidth:!1,dom:"rtip",pageLength:20,language:jse.libs.datatable.getTranslations(jse.core.config.get("languageCode")),createdRow:function(a,e,n){$(a).find("td").each(function(){$(this).html($(this).html().trim().replace(/(\r\n|\n|\r)/gm,""))})}}),e.on("submit",".quick-search",l).on("click",".filter .btn",o).on("change",".page-length",c),a()},r});