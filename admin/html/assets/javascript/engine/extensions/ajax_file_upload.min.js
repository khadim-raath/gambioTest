"use strict";gx.extensions.module("ajax_file_upload",[],function(e){var o=$(this),t={auto:!0},i=$.extend(!0,{},t,e),n={},r=function(e){if(!e.is("input[type=file]"))throw"$.upload() method is supported only in input[type=file] elements."},u=function(e){var t=o.get(0).files[0];l(t)&&o.trigger("validate",[t])&&(o.fileupload({url:i.url,dataType:"json"}),o.fileupload("send",{files:[t]}).success(function(o,t,i,n){jse.core.debug.info("AJAX File Upload Success Response:",o,t),"function"==typeof e&&e(o)}).error(function(e,o,t){jse.core.debug.error("AJAX File Upload Failure Response:",e,o,t)}).complete(function(e,t,i){o.fileupload("destroy")}))},l=function(e){try{if(void 0===e)throw"No file was selected for upload.";return!0}catch(o){return jse.core.debug.error(o),!1}};return n.init=function(e){return void 0===i.url||""===i.url?void jse.core.debug.error('Upload URL was not provided for "ajax_file_upload" extension.'):(i.auto===!0?o.fileupload({dataType:"json",url:i.url,done:function(e,o){$(this).trigger("upload",[o.result])}}):$.fn.extend({upload:function(e){r($(this)),u(e)},validate:function(){return r($(this)),l(this.files[0])}}),void e())},n});