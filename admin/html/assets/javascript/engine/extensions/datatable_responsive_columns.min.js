"use strict";gx.extensions.module("datatable_responsive_columns",[],function(t){function n(){if(c.find(".dataTables_empty").length>0){var t=c.find("thead:first tr:first .actions").index()+1-c.find("thead:first tr:first th.hidden").length;c.find(".dataTables_empty").attr("colspan",t)}}function i(t){t.find("td.actions div:first").prepend('<i class="fa fa-ellipsis-h meta-icon hidden-columns-content"></i>')}function d(t){var n="";t.find("td.hidden").each(function(t,i){n+=c.find("thead:first tr:first th:eq("+$(i).index()+")").text()+": "+$(i).text()+"<br/>"}),t.find(".hidden-columns-content").qtip({content:n,style:{classes:"gx-qtip info"},hide:{fixed:!0,delay:300}})}function e(t,e){var a=0!==e.length?e.prev():c.find("thead:first th.actions").prev();a.hasClass("hidden")||0===a.index()||(0===c.find(".hidden-columns-content").length&&c.find("tbody tr").each(function(t,n){i($(n))}),c.find("tr").each(function(t,n){$(n).find("th:eq("+a.index()+"), td:eq("+a.index()+")").addClass("hidden"),d($(n))}),n(),t.width()<c.width()&&a.index()>1&&h())}function a(t,i){if(0!==i.length){var e=parseInt(i.css("min-width")),a=0;if(c.find("thead:first tr:first th").each(function(t,n){$(n).hasClass("hidden")||(a+=parseInt($(n).css("min-width")))}),a+e<=t.outerWidth()){c.find("tr").each(function(t,n){$(n).find("th:eq("+i.index()+"), td:eq("+i.index()+")").removeClass("hidden"),d($(n))}),n(),0===c.find("thead:first tr:first th.hidden").length&&c.find(".hidden-columns-content").remove();var f=a+e+parseInt(i.next(".hidden").css("min-width"));f<=t.outerWidth()&&0!==i.next(".hidden").length&&h()}}}function h(){var t=c.parent(),n=c.find("thead:first th.hidden:first");t.width()<c.width()?e(t,n):a(t,n)}function f(){c.find("thead:first tr:first th").each(function(){var t=this;if("none"===$(this).css("display"))return!0;var n=void 0;m.forEach(function(i){i.name===$(t).data("columnName")&&(n=i)}),n&&n.widthFactor&&!function(){var i=$(t).index(),d=Math.round(n.widthFactor/x*100*100)/100;c.find("thead").each(function(t,n){$(n).find("tr").each(function(t,n){$(n).find("th").eq(i).css("width",d+"%")})})}()})}function s(){c.find("thead:first tr:first th").each(function(t){var n=this;if("none"===$(this).css("display"))return!0;var i=void 0;if(m.forEach(function(t){t.name===$(n).data("columnName")&&(i=t)}),!i)return!0;var d=$(this).outerWidth(),e=parseInt(i.minWidth);d<e&&c.find("thead").each(function(n,i){$(i).find("tr").each(function(n,i){$(i).find("th").eq(t).outerWidth(e).css("max-width",e).css("min-width",e)})})})}function o(){f(),s();var t=setInterval(function(){1===c.find("tbody tr:last td.actions").length&&(c.find("thead:first tr:first th").each(function(t,n){$(n).hasClass("hidden")&&c.find("tbody tr").each(function(n,i){$(i).find("td:eq("+t+")").addClass("hidden")})}),$("thead th.hidden").length&&$("tbody tr").each(function(t,n){i($(n)),d($(n))}),clearInterval(t))},1)}function r(){c.find("thead.fixed").outerWidth(c.outerWidth()),f(),s(),h()}var c=$(this),u={visibilityToggleSelector:'[data-column-name="actions"]'},l=$.extend(!0,{},u,t),v={},m=void 0,x=void 0;return v.init=function(t){c.on("init.dt",function(){c.find(l.visibilityToggleSelector).show(),n(),m=c.DataTable().init().columns,x=0,m.forEach(function(t){x+=t.widthFactor||0}),c.on("draw.dt",o),$(window).on("resize",r),r()}),c.find(l.visibilityToggleSelector).hide(),t()},v});