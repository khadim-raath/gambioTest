function gm_get_position(o){var c=new Array(2),t=$("#gm_color_box").outerWidth(),l=$("#gm_color_box").outerHeight(),r=$(document).width(),e=$(document).scrollTop(),a=$(document).scrollLeft(),i=$(window).height();return t+o.pageX>r+a?c.left=r+a-t-30:c.left=o.pageX,l+o.pageY>i+e?c.top=i+e-l-10:c.top=o.pageY,c}$(document).ready(function(o){$("#colorpicker").farbtastic("#color"),$("#gm_color_box .close").click(function(){$("#gm_color_box").hide("normal")}),$("#gm_color_box .save").click(function(){var o=$("input#color").val(),c=$("input#actual").val();$("#color_"+c).css({"background-color":o}),$("input#gm_style_value_"+c).val(o),$("input#"+c).val(o),$("#gm_color_box").hide("normal")}),$(".gm_click").click(function(o){var c=$(this).attr("id"),t=c.replace(/color_/g,""),l=$("#"+t).val();$.farbtastic("#colorpicker").setColor(l);var r=gm_get_position(o);$("#gm_color_box").css({zIndex:"300",position:"absolute",top:r.top+"px",left:r.left+"px",background:"white",border:"1px solid #ccc",background:"#ffffff"}),$("#gm_color_box").show("fast"),$("#color").val(l),$("#actual").val(t)})});