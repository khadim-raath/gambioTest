function gm_get_position(o){position=new Array(2);var t=$("#gm_color_box").outerWidth(),n=$("#gm_color_box").outerHeight(),a=$(document).width(),i=$(document).scrollTop(),e=$(document).scrollLeft(),c=$(window).height();return t+o.pageX>a+e?position.left=a+e-t-30:position.left=o.pageX,n+o.pageY>c+i?position.top=c+i-n-10:position.top=o.pageY,position}function gm_get_content(o,t,n,a){"undefined"==typeof a&&(a=!0),$("#gm_box_content").html('<img src="../images/loading.gif" WIDTH="16" HEIGHT="16" BORDER="0" ALT="loading">'),$("#gm_color_box").hide("normal"),$("#gm_box_content").load(o,{},function(){var o=a?0:$(".tab-headline-wrapper a.active").index(),i=function(){$(".tab-headline-wrapper a:eq("+o+")").addClass("active")};"gm_pdf_content"==t?($("#gm_box_submenu").show("fast"),$("#gm_box_submenu").load(n,i)):"gm_pdf_conf"==t?($("#gm_box_submenu").show("fast"),$("#gm_box_submenu").load(n,i)):"gm_pdf_fonts"==t?($("#gm_box_submenu").hide("fast"),$.each($("#gm_pdf_form").get(0).elements,function(o,t){$("#"+t.id+"_PICKER").click(function(o){var n=gm_get_position(o);$("#gm_color_box").show("normal"),$("input#color").val($("input#"+t.id).val()),$("input#actual").val(t.id),$("#gm_color_box").css({position:"absolute",top:n.top+"px",left:n.left+"px"}),$("#color").css({"background-color":$("input#"+t.id).val()})})})):$("#gm_box_submenu").hide("fast"),window.gx.widgets.init($("#gm_table"))})}function gm_update_boxes(o,t){$("#gm_status").html('<img src="../images/loading.gif" WIDTH="16" HEIGHT="16" BORDER="0" ALT="loading">');var n="";$.each($("#gm_pdf_form").get(0).elements,function(o,t){""!=t.id&&t.id.search(/PICKER/)==-1&&(n=t.id+"="+encodeURIComponent(t.value)+"&"+n)}),n=n.substr(0,n.length-1),gm_fadein_boxes(t),$.ajax({type:"POST",url:o,data:n,timeout:2e3,success:function(o){$("#"+t).html(o)}})}function gm_post_boxes(o,t){$("#gm_status").html('<img src="../images/loading.gif" WIDTH="16" HEIGHT="16" BORDER="0" ALT="loading">'),gm_fadein_boxes(t),$.post(o,{GM_PDF_HEADING_CONDITIONS:$("#GM_PDF_HEADING_CONDITIONS").val(),GM_PDF_HEADING_WITHDRAWAL:$("#GM_PDF_HEADING_WITHDRAWAL").val(),GM_PDF_CONDITIONS:$("#GM_PDF_CONDITIONS").val(),GM_PDF_WITHDRAWAL:$("#GM_PDF_WITHDRAWAL").val()},function(o){$("#"+t).html(o)})}function gm_update_color(o){$("#"+o+"_PICKER").css({"background-color":$("input#"+o).val()})}function gm_fadeout_boxes(o){$("#"+o).fadeOut("normal")}function gm_hide_boxes(o){$("#"+o).hide("fast")}function gm_fadein_boxes(o){$("#"+o).fadeIn("normal")}var navTabHtmlBackup="";$(document).ready(function(){$(document).on("click",".nav-tab a",function(){var o=$(this).parents(".page-nav-tabs");""!=navTabHtmlBackup&&o.find(".nav-tab").filter(function(){return 0==$(this).find("a").length}).html(navTabHtmlBackup).removeClass("no-link"),navTabHtmlBackup=$(this).parent().html(),$(this).parent().addClass("no-link"),$(this).parent().text($(this).text())}),$(document).on("click",".tab-headline-wrapper a",function(){$(this).siblings(".active").removeClass("active"),$(this).addClass("active")}),$(window).on("JSENGINE_INIT_FINISHED",function(){var o=window.location.hash;$(".page-nav-tabs .nav-tab").length>0&&("#gm_pdf_bulk"===o?$(".page-nav-tabs .nav-tab:last a").click():$(".page-nav-tabs .nav-tab:first a").trigger("click"))})}),$("#colorpicker").ready(function(){$("#colorpicker").farbtastic("#color"),$(".close").click(function(){$("#gm_color_box").hide("normal")}),$(".save").click(function(o){var t=$("input#color").val(),n=$("input#actual").val();$("#"+n+"_PICKER").css({"background-color":t}),$("input#"+n).val(t),$("#gm_color_box").hide("normal")})});