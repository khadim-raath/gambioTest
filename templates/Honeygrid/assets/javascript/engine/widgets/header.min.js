"use strict";gambio.widgets.module("header",[gambio.source+"/libs/events"],function(e){var s=$(this),t=$(window),o=null,n=!1,i=null,l=0,r={},c=0,a={header:"#header",scrollPosition:200,stickyClass:"sticky",hover:!1,tolerance:5},u=$.extend(!0,{},a,e),m={},g=function(){var e=$(document).scrollTop(),a=o.hasClass(u.stickyClass),m=i>e;e>u.scrollPosition&&!m?(l=0,a||n||(r.open=!1,o.trigger(jse.libs.template.events.TRANSITION(),r).trigger(jse.libs.template.events.OPEN_FLYOUT(),[s]))):(l+=1,a&&(u.scrollPosition>e||l>u.tolerance)&&(r.open=!0,o.trigger(jse.libs.template.events.TRANSITION(),r))),clearTimeout(c),c=setTimeout(function(){t.trigger(jse.libs.template.events.REPOSITIONS_STICKYBOX())},250),i=e},T=function(){n=!0,r.open=!0,o.trigger(jse.libs.template.events.TRANSITION(),r)},d=function(){n=!1,g()};return m.init=function(e){o=s.find(u.header),i=$(document).scrollTop(),r.classClose=u.stickyClass,t.on("scroll",g),u.hover&&o.on("mouseenter",T).on("mouseleave",d),g(),e()},m});