"use strict";gambio.widgets.module("input_number",[],function(t){var a=$(this),e=null,n=null,r=300,u=null,i={type:"float",digits:4,forceDigits:!1,stepping:1,min:0,max:null,separator:"auto",delay:500,minDelay:50},o=$.extend(!0,{},i,t),s={},l=function(){if(!o.separator||"auto"===o.separator){var t=1.1;return o.separator=t.toLocaleString().substring(1,2),o.separator}return o.separator},d=function(t){var a=t.data.target,r=t.data.type,u=t.data.dataset,i=a.val(),s="."===o.separator?i:i.replace(n,"."),l="int"===u.type?parseInt(s,10):parseFloat(s),d=Math.pow(10,u.digits);if(isNaN(l))return void jse.core.debug.info("[NUMBERINPUT] Input is not a number");if("plus"===r?l+=u.stepping:l-=u.stepping,l="number"==typeof u.max?Math.min(l,u.max):l,l="number"==typeof u.min?Math.max(l,u.min):l,l=parseInt(Math.round(l*d),10)/d,l=l.toString(),u.forceDigits){var m=l.indexOf("."),g=null;for(m===-1&&(l+=".",m=l.indexOf(".")),g=l.length-m-1;g<u.digits;)l+="0",g+=1}l=l.replace(".",e),a.val(l).trigger("keyup",[]),p(a)},p=function(t){u=u?clearTimeout(u):null,u=setTimeout(function(){t.trigger("blur",[])},r)},m=function f(t){t.preventDefault();var a=t.data.target,e=a.data(),n=e.timer||null,r=Math.max(e.delay||t.data.dataset.delay,t.data.dataset.minDelay);n&&clearTimeout(n),n=setTimeout(function(){f(t)},r),a.data({delay:r/1.5,timer:n}),d(t)},g=function(t){t.preventDefault();var a=t.data?t.data.target:null,e=null!==a?a.data():{},n=e.timer;n&&(clearTimeout(n),a.data("delay",t.data.dataset.delay))};return s.init=function(t){e=l(),n=new RegExp(e,"g"),a.find(".input-number").each(function(){var t=$(this),a=t.find("input"),e=$.extend({},o,t.data());t.on("mousedown touchstart",".btn-plus",{dataset:e,type:"plus",target:a},m).on("mouseup mouseleave touchend",".btn-plus",{dataset:e,type:"plus",target:a},g).on("mousedown touchstart",".btn-minus",{dataset:e,type:"minus",target:a},m).on("mouseup mouseleave touchend",".btn-minus",{dataset:e,type:"minus",target:a},g)}),t()},s});