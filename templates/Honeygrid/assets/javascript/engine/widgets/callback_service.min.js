"use strict";gambio.widgets.module("callback_service",[],function(e){var r=$(this),c={successSelector:"#callback-service .alert-success",errorSelector:"#callback-service .alert-danger",vvCodeSelector:"#callback-service #vvcode",vvCodeImageSelector:"#callback-service #vvcode_image"},a=$.extend(!0,{},c,e),t={},l=function(){var e=new $.Deferred;return $(a.successSelector).addClass("hidden"),$(a.errorSelector).addClass("hidden"),$.ajax({data:r.serialize(),url:"request_port.php?module=CallbackService&action=check",type:"GET",dataType:"html",success:function(r){if(r.length>0){$(a.errorSelector).html(r).removeClass("hidden");try{Recaptcha.reload()}catch(c){$(a.vvCodeSelector).val(""),$(a.vvCodeImageSelector).attr("src","request_port.php?rand="+Math.random()+"&module=CreateVVCode")}e.reject()}else e.resolve()}}),e.done(o),!1},o=function(){$.ajax({data:r.serialize(),url:"request_port.php?module=CallbackService&action=send",type:"POST",dataType:"html",success:function(e){if(e.length>0){$(a.successSelector).html(e).removeClass("hidden");try{Recaptcha.reload()}catch(r){$(a.vvCodeSelector).val(""),$(a.vvCodeImageSelector).attr("src","request_port.php?rand="+Math.random()+"&module=CreateVVCode")}}}})};return t.init=function(e){r.on("submit",l),e()},t});