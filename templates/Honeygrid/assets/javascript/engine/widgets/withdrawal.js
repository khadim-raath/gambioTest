'use strict';

/* --------------------------------------------------------------
 withdrawals.js 2016-03-09
 Gambio GmbH
 http://www.gambio.de
 Copyright (c) 2016 Gambio GmbH
 Released under the GNU General Public License (Version 2)
 [http://www.gnu.org/licenses/gpl-2.0.html]
 --------------------------------------------------------------
 */

/**
 * Switches the text input field on click on a radio button.
 */
gambio.widgets.module('withdrawal', [], function (data) {

	'use strict';

	// ########## VARIABLE INITIALIZATION ##########

	var $this = $(this),
	    defaults = { lang: 'de' },
	    options = $.extend(true, {}, defaults, data),
	    module = {};

	// ########## EVENT HANDLER ##########


	var _toggleInputField = function _toggleInputField() {
		$('.withdrawal-date').toggleClass('active').prop('disabled', function (i, v) {
			return !v;
		});
	};

	// ########## INITIALIZATION ##########

	/**
  * Init function of the widget
  * @constructor
  */
	module.init = function (done) {

		$this.on('change', '.withdrawal_form_switcher', _toggleInputField);

		if (options.lang === 'de') {
			$('.withdrawal-date').datepicker({
				dayNamesMin: ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'],
				monthNames: ['Januar', 'Februar', 'M&auml;rz', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
				firstDay: 1,
				dateFormat: 'dd.mm.yy',
				changeMonth: false
			});
		} else {
			$('.withdrawal-date').datepicker({
				firstDay: 1,
				dateFormat: 'dd.mm.yy',
				changeMonth: false
			});
		}

		done();
	};

	// Return data to widget engine
	return module;
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndpZGdldHMvd2l0aGRyYXdhbC5qcyJdLCJuYW1lcyI6WyJnYW1iaW8iLCJ3aWRnZXRzIiwibW9kdWxlIiwiZGF0YSIsIiR0aGlzIiwiJCIsImRlZmF1bHRzIiwibGFuZyIsIm9wdGlvbnMiLCJleHRlbmQiLCJfdG9nZ2xlSW5wdXRGaWVsZCIsInRvZ2dsZUNsYXNzIiwicHJvcCIsImkiLCJ2IiwiaW5pdCIsImRvbmUiLCJvbiIsImRhdGVwaWNrZXIiLCJkYXlOYW1lc01pbiIsIm1vbnRoTmFtZXMiLCJmaXJzdERheSIsImRhdGVGb3JtYXQiLCJjaGFuZ2VNb250aCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7Ozs7OztBQVVBOzs7QUFHQUEsT0FBT0MsT0FBUCxDQUFlQyxNQUFmLENBQ0MsWUFERCxFQUdDLEVBSEQsRUFLQyxVQUFTQyxJQUFULEVBQWU7O0FBRWQ7O0FBRUY7O0FBRUUsS0FBSUMsUUFBUUMsRUFBRSxJQUFGLENBQVo7QUFBQSxLQUNDQyxXQUFXLEVBQUNDLE1BQU0sSUFBUCxFQURaO0FBQUEsS0FFQ0MsVUFBVUgsRUFBRUksTUFBRixDQUFTLElBQVQsRUFBZSxFQUFmLEVBQW1CSCxRQUFuQixFQUE2QkgsSUFBN0IsQ0FGWDtBQUFBLEtBR0NELFNBQVMsRUFIVjs7QUFNRjs7O0FBR0UsS0FBSVEsb0JBQW9CLFNBQXBCQSxpQkFBb0IsR0FBVztBQUNsQ0wsSUFBRSxrQkFBRixFQUFzQk0sV0FBdEIsQ0FBa0MsUUFBbEMsRUFBNENDLElBQTVDLENBQWlELFVBQWpELEVBQTZELFVBQVNDLENBQVQsRUFBWUMsQ0FBWixFQUFlO0FBQzNFLFVBQU8sQ0FBQ0EsQ0FBUjtBQUNBLEdBRkQ7QUFHQSxFQUpEOztBQU9GOztBQUVFOzs7O0FBSUFaLFFBQU9hLElBQVAsR0FBYyxVQUFTQyxJQUFULEVBQWU7O0FBRTVCWixRQUFNYSxFQUFOLENBQVMsUUFBVCxFQUFtQiwyQkFBbkIsRUFBZ0RQLGlCQUFoRDs7QUFFQSxNQUFJRixRQUFRRCxJQUFSLEtBQWlCLElBQXJCLEVBQTJCO0FBQzFCRixLQUFFLGtCQUFGLEVBQXNCYSxVQUF0QixDQUFpQztBQUNDQyxpQkFBYSxDQUFDLElBQUQsRUFBTyxJQUFQLEVBQWEsSUFBYixFQUFtQixJQUFuQixFQUF5QixJQUF6QixFQUErQixJQUEvQixFQUFxQyxJQUFyQyxDQURkO0FBRUNDLGdCQUFZLENBQ1gsUUFEVyxFQUNELFNBREMsRUFDVSxXQURWLEVBQ3VCLE9BRHZCLEVBQ2dDLEtBRGhDLEVBQ3VDLE1BRHZDLEVBRVgsTUFGVyxFQUVILFFBRkcsRUFFTyxXQUZQLEVBRW9CLFNBRnBCLEVBRStCLFVBRi9CLEVBR1gsVUFIVyxDQUZiO0FBT0NDLGNBQVUsQ0FQWDtBQVFDQyxnQkFBWSxVQVJiO0FBU0NDLGlCQUFhO0FBVGQsSUFBakM7QUFXQSxHQVpELE1BYUs7QUFDSmxCLEtBQUUsa0JBQUYsRUFBc0JhLFVBQXRCLENBQWlDO0FBQ0NHLGNBQVUsQ0FEWDtBQUVDQyxnQkFBWSxVQUZiO0FBR0NDLGlCQUFhO0FBSGQsSUFBakM7QUFLQTs7QUFFRFA7QUFDQSxFQTFCRDs7QUE0QkE7QUFDQSxRQUFPZCxNQUFQO0FBQ0EsQ0EvREYiLCJmaWxlIjoid2lkZ2V0cy93aXRoZHJhd2FsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiB3aXRoZHJhd2Fscy5qcyAyMDE2LTAzLTA5XG4gR2FtYmlvIEdtYkhcbiBodHRwOi8vd3d3LmdhbWJpby5kZVxuIENvcHlyaWdodCAoYykgMjAxNiBHYW1iaW8gR21iSFxuIFJlbGVhc2VkIHVuZGVyIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSAoVmVyc2lvbiAyKVxuIFtodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLTIuMC5odG1sXVxuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuLyoqXG4gKiBTd2l0Y2hlcyB0aGUgdGV4dCBpbnB1dCBmaWVsZCBvbiBjbGljayBvbiBhIHJhZGlvIGJ1dHRvbi5cbiAqL1xuZ2FtYmlvLndpZGdldHMubW9kdWxlKFxuXHQnd2l0aGRyYXdhbCcsXG5cblx0W10sXG5cblx0ZnVuY3Rpb24oZGF0YSkge1xuXG5cdFx0J3VzZSBzdHJpY3QnO1xuXG4vLyAjIyMjIyMjIyMjIFZBUklBQkxFIElOSVRJQUxJWkFUSU9OICMjIyMjIyMjIyNcblxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyksXG5cdFx0XHRkZWZhdWx0cyA9IHtsYW5nOiAnZGUnfSxcblx0XHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIGRhdGEpLFxuXHRcdFx0bW9kdWxlID0ge307XG5cblxuLy8gIyMjIyMjIyMjIyBFVkVOVCBIQU5ETEVSICMjIyMjIyMjIyNcblxuXG5cdFx0dmFyIF90b2dnbGVJbnB1dEZpZWxkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCcud2l0aGRyYXdhbC1kYXRlJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpLnByb3AoJ2Rpc2FibGVkJywgZnVuY3Rpb24oaSwgdikge1xuXHRcdFx0XHRyZXR1cm4gIXY7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cbi8vICMjIyMjIyMjIyMgSU5JVElBTElaQVRJT04gIyMjIyMjIyMjI1xuXG5cdFx0LyoqXG5cdFx0ICogSW5pdCBmdW5jdGlvbiBvZiB0aGUgd2lkZ2V0XG5cdFx0ICogQGNvbnN0cnVjdG9yXG5cdFx0ICovXG5cdFx0bW9kdWxlLmluaXQgPSBmdW5jdGlvbihkb25lKSB7XG5cblx0XHRcdCR0aGlzLm9uKCdjaGFuZ2UnLCAnLndpdGhkcmF3YWxfZm9ybV9zd2l0Y2hlcicsIF90b2dnbGVJbnB1dEZpZWxkKTtcblxuXHRcdFx0aWYgKG9wdGlvbnMubGFuZyA9PT0gJ2RlJykge1xuXHRcdFx0XHQkKCcud2l0aGRyYXdhbC1kYXRlJykuZGF0ZXBpY2tlcih7XG5cdFx0XHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5TmFtZXNNaW46IFsnU28nLCAnTW8nLCAnRGknLCAnTWknLCAnRG8nLCAnRnInLCAnU2EnXSxcblx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aE5hbWVzOiBbXG5cdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSmFudWFyJywgJ0ZlYnJ1YXInLCAnTSZhdW1sO3J6JywgJ0FwcmlsJywgJ01haScsICdKdW5pJyxcblx0XHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdKdWxpJywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2t0b2JlcicsICdOb3ZlbWJlcicsXG5cdFx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRGV6ZW1iZXInXG5cdFx0XHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcblx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdERheTogMSxcblx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0OiAnZGQubW0ueXknLFxuXHRcdFx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU1vbnRoOiBmYWxzZVxuXHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHQkKCcud2l0aGRyYXdhbC1kYXRlJykuZGF0ZXBpY2tlcih7XG5cdFx0XHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3REYXk6IDEsXG5cdFx0XHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdDogJ2RkLm1tLnl5Jyxcblx0XHRcdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VNb250aDogZmFsc2Vcblx0XHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cdFx0XHR9XG5cblx0XHRcdGRvbmUoKTtcblx0XHR9O1xuXG5cdFx0Ly8gUmV0dXJuIGRhdGEgdG8gd2lkZ2V0IGVuZ2luZVxuXHRcdHJldHVybiBtb2R1bGU7XG5cdH0pOyJdfQ==
