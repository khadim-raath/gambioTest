"use strict";gambio.widgets.module("amazon_payment",[],function(n){var t=$(this),o=null,e={url:"request_port.php?module=AmazonAdvPay",target:"checkout_shipping.php",sellerId:null,addressBook:!1},a=$.extend(!0,{},e,n),i={},r=function(){"#amazonlogin"===location.hash&&t.on("transitionend",function(){t.removeClass("paywithamazonbtn_highlight")}).addClass("paywithamazonbtn_highlight")},s=function(n){var t={orderrefid:n.getAmazonOrderReferenceId(),action:"signIn"};$.post(a.url,t).done(function(n){"true"===n["continue"]&&(window.location=a.target)})},d=function(){alert("ERROR in Amazon Payments")};return i.init=function(n){o=t.attr("id");try{new OffAmazonPayments.Widgets.Button({sellerId:a.sellerId,useAmazonAddressBook:a.addressBook,onSignIn:s,onError:d}).bind(o)}catch(e){}r(),n()},i});